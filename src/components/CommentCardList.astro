---
import "@fontsource-variable/nunito";
import ib from "../assets/islas-ballestas.jpg";
import rnp from "../assets/roja.jpg";
import huacachina from "../assets/huacachina.jpg";
import cuzco from "../assets/cuzco.jpg";
import CommentCard from "./CommentCard.astro";

const destinos = [
  { nombre: "Paracas", imagen: ib.src },
  { nombre: "Ica", imagen: rnp.src },
  { nombre: "Cañete", imagen: huacachina.src },
  { nombre: "Nazca", imagen: ib.src },
  { nombre: "Cuzco", imagen: cuzco.src },
];

/* const users = await fetch(
  "https://randomuser.me/api/?results=20&inc=name,picture"
)
  .then((res) => res.json())
  .then((data) => data.results); */
---

<p
class="text-4xl font-semibold py-6 fredoka-script text-center text-green-900 bg-gray-50"
>
COMENTARIOS
</p>

<div class="relative w-full h-[48rem] overflow-hidden bg-gray-50"> 
  <!-- Imagen de fondo dinámica -->
  <div class="absolute inset-0 z-0">
    <img
      src={destinos[0].imagen}
      alt="Imagen de fondo"
      class="w-full h-full object-cover transition-all duration-500 ease-in-out"
      id="background-image"
    />
  </div>

  <!-- Capa oscura con negro más claro -->
  <div class="absolute inset-0 bg-black/15 z-10"></div>

  <!-- Secciones con títulos arriba -->
  <div class="relative z-20 flex h-full items-start">
    {
      destinos.map((item, index) => (
        <div
          class="group flex-1 relative cursor-pointer transition-all duration-500 h-full border-1 border-gray-50"
          onmouseenter={`document.getElementById('background-image').src = '${item.imagen}'`}
        >
          <!-- Capa de fondo negro cuando el mouse esté sobre la sección -->
          <div class="absolute inset-0 bg-transparent group-hover:bg-black/20 transition-all duration-500" />

          <!-- Títulos con tipografías diferentes -->
          <div class="absolute top-0 w-full text-center z-20">
            <!-- Texto VISIT con fondo negro que cambia al pasar el mouse -->
            <p class="text-white text-lg font-sans font-bold transition-all duration-300 pt-8 group-hover:text-white group-hover:text-xl nunito-script">
              VISIT
            </p>
            <!-- Nombre del destino con color plomo por defecto y blanco en hover -->
            <p class="text-white text-2xl font-serif font-extrabold transition-all duration-300 group-hover:text-white group-hover:text-3xl">
              {item.nombre}
            </p>
          </div>
        </div>
      ))
    }
  </div>

  <!-- Carrusel de comentarios al fondo pero visible -->
  <!-- <div class="absolute bottom-4 left-0 w-full z-30 px-6">
    <div
      class="flex gap-4 w-fit animate-scroll whitespace-nowrap"
      style="animation: scroll-left 40s linear infinite;"
    >
      {
        users.map(
          (user: {
            name: { first: string; last: string };
            picture: { large: string };
          }) => (
            <CommentCard
              imagen={user.picture.large}
              nombre={`${user.name.first} ${user.name.last}`}
              cargo="Cliente"
              comentario="Lorem ipsum dolor sit amet consectetur adipisicing elit. Laboriosam, provident deleniti quisquam."
            />
          )
        )
      }
      {
        users.map(
          (user: {
            name: { first: string; last: string };
            picture: { large: string };
          }) => (
            <CommentCard
              imagen={user.picture.large}
              nombre={`${user.name.first} ${user.name.last}`}
              cargo="Cliente"
              comentario="Lorem ipsum dolor sit amet consectetur adipisicing elit. Laboriosam, provident deleniti quisquam."
            />
          )
        )
      }
    </div>
  </div> -->
</div>

<style>
  @keyframes scroll-left {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-25%);
    }
  }

  /* Efecto de hover en el título: pasa de gris oscuro a blanco y aumenta de tamaño */
  .group:hover p {
    transform: scale(.9); /* Aumenta el tamaño del texto */
  }

  /* Estilo para los títulos cuando no están en hover */
  .group p {
    transition: transform 0.3s, color 0.3s; /* Asegura transición suave */
  }


  /* Los títulos se vuelven blancos cuando se hace hover */
  .group:hover .text-gray-700 {
    color: white; /* Blanco cuando hover */
  }
</style>
